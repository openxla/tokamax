name: Run Benchmarks

on:
  # Allow manual runs from the Actions tab for testing
  workflow_dispatch:

  schedule:
    - cron: "0 0 * * *"  # Runs at 00:00 UTC every day

permissions:
  contents: read
  pull-requests: write

jobs:
  run_benchmarks:
    name: Run Tokamax benchmarks
    uses: google-ml-infra/actions/.github/workflows/run-benchmarks.yaml@d338127d8da5d0f8cc5aee8e73c17808584388d3
    with:
      registry_file: "tokamax/benchmarks/benchmark_registry.pbtxt"
      workflow_type: "SCHEDULED"
      ml_actions_ref: "d338127d8da5d0f8cc5aee8e73c17808584388d3"
