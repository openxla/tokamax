name: Run Benchmarks

on:
  # Allow manual runs from the Actions tab for testing
  workflow_dispatch:

  schedule:
    - cron: "0 0 * * *"  # Runs at 00:00 UTC every day

permissions:
  contents: read

jobs:
  run_benchmarks:
    name: Run Tokamax Attention Benchmark
    uses: google-ml-infra/actions/.github/workflows/run-benchmarks.yaml@f491ab7e3b51d97908f82a8a1cbc3961fc0be4df
    with:
      registry_file: "tokamax/benchmarks/benchmark_registry.pbtxt"
      workflow_type: "SCHEDULED"
      ml_actions_ref: "f491ab7e3b51d97908f82a8a1cbc3961fc0be4df"
